(this.webpackJsonpmoney=this.webpackJsonpmoney||[]).push([[0],{101:function(e,t,a){"use strict";a.r(t);var n,c=a(0),r=a.n(c),s=a(9),i=a.n(s),u=(a(92),a(54)),l=a.n(u),o=a(55),j=a.n(o),d=a(38),b=a(68),O=a.n(b),h=a(150),v=a(139),x=a(51),p=a(64),m=a(43),f=a(69),_=a.n(f),y=a(149);!function(e){e.ADD_INCOMES="ADD_INCOMES",e.ADD_OUTCOMES="ADD_OUTCOMES"}(n||(n={}));var D=_()().format("YYYY-MM-DD"),g={transactions:[]},N=function(e,t){return{type:n.ADD_INCOMES,day:t,value:e}},C=function(e,t){return{type:n.ADD_OUTCOMES,day:t,value:e}},T=a(70),k=a(71),A=a(78),I=a(77),L=new(function(e){Object(A.a)(a,e);var t=Object(I.a)(a);function a(){var e;return Object(T.a)(this,a),(e=t.call(this,"MoneyManager")).transactions=void 0,e.version(1).stores({transactions:"id, type, value, addDate"}),e}return Object(k.a)(a,[{key:"getData",value:function(){return this.transactions.where("addDate").equals(D).toArray()}}]),a}(a(61).default)),M=a(4),S=function(e){var t=Object(c.useState)(0),a=Object(d.a)(t,2),n=a[0],r=a[1],s=Object(x.b)(),i=function(){if(n){s(e.addValue(+n,D));var t={id:Object(y.a)(),type:e.type,value:n,addDate:D};L.transactions.add(t),r(0)}};return Object(M.jsxs)("div",{className:O.a.textInput,children:[Object(M.jsx)(h.a,{variant:"outlined",onChange:function(e){Number(e.currentTarget.value)?r(+e.currentTarget.value):r(0)},value:n,onKeyPress:function(e){"Enter"===e.key&&i()}}),Object(M.jsx)(v.a,{variant:"contained",color:"primary",onClick:i,children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"})]})},w=function(){return Object(M.jsxs)("main",{className:j.a.main,children:[Object(M.jsxs)("section",{className:j.a.incomeValue,children:[Object(M.jsx)("h3",{children:"\u0414\u043e\u0445\u043e\u0434\u044b"}),Object(M.jsx)(S,{addValue:N,type:"income"})]}),Object(M.jsxs)("section",{className:j.a.outcomeValue,children:[Object(M.jsx)("h3",{children:"\u0420\u0430\u0441\u0445\u043e\u0434\u044b"}),Object(M.jsx)(S,{addValue:C,type:"outcome"})]})]})},P=a(14),E=a.n(P),V=a(102),F=a(42),U=a(12),q=a(140),B=a(41),Y=function(){var e=Object(B.useLiveQuery)((function(){return L.table("transactions").where("type").equals("income").toArray()})),t=Object(B.useLiveQuery)((function(){return L.table("transactions").where("type").equals("outcome").toArray()}));if(!e||!t)return null;var a=e.filter((function(e){return e.addDate===D})).reduce((function(e,t){return e+t.value}),0),n=t.filter((function(e){return e.addDate===D})).reduce((function(e,t){return e+t.value}),0),c=a-n;return Object(M.jsxs)(M.Fragment,{children:[Object(M.jsxs)(q.a,{raised:!0,className:E.a.outputCard,children:[Object(M.jsx)("h3",{className:E.a.cardTitle,children:"\u0412\u0441\u0435\u0433\u043e \u0437\u0430\u0440\u0430\u0431\u043e\u0442\u0430\u043d\u043e"}),Object(M.jsx)("div",{className:E.a.cardValue,children:a})]}),Object(M.jsxs)(q.a,{raised:!0,className:E.a.outputCard,children:[Object(M.jsx)("h3",{className:E.a.cardTitle,children:"\u0412\u0441\u0435\u0433\u043e \u043f\u043e\u0442\u0440\u0430\u0447\u0435\u043d\u043e"}),Object(M.jsx)("div",{className:E.a.cardValue,children:n})]}),Object(M.jsxs)(q.a,{raised:!0,className:E.a.outputCard,children:[Object(M.jsx)("h3",{className:E.a.cardTitle,children:"\u0420\u0430\u0437\u043d\u0438\u0446\u0430"}),Object(M.jsx)("div",{className:E.a.cardValue,children:c})]})]})},G=a(141),J=a(142),Q=a(143),R=a(144),W=a(145),z=a(146),K=a(148),H=function(){var e=Object(c.useState)(D.slice(0,D.lastIndexOf("-"))),t=Object(d.a)(e,2),a=t[0],n=t[1],r=Object(c.useState)(0),s=Object(d.a)(r,2),i=s[0],u=s[1],l=Object(c.useState)(10),o=Object(d.a)(l,2),j=o[0],b=o[1],O=Object(B.useLiveQuery)((function(){return L.table("transactions").where("addDate").startsWith(a).toArray()}),[a]);if(!O)return null;var h=i>0?Math.max(0,(1+i)*j-(null===O||void 0===O?void 0:O.length)):0,v=O.filter((function(e){return"income"===e.type})).reduce((function(e,t){return e+t.value}),0)-O.filter((function(e){return"outcome"===e.type})).reduce((function(e,t){return e+t.value}),0);return Object(M.jsxs)(M.Fragment,{children:[Object(M.jsxs)("div",{children:[Object(M.jsx)("span",{children:"\u0412\u044b\u0431\u0435\u0440\u0438 \u043c\u0435\u0441\u044f\u0446 "}),Object(M.jsx)("input",{type:"month",value:a,onChange:function(e){return n(e.currentTarget.value)}})]}),Object(M.jsx)(G.a,{component:V.a,style:{backgroundColor:"#3f51b545"},children:Object(M.jsxs)(J.a,{style:{minWidth:650},children:[Object(M.jsx)(Q.a,{children:Object(M.jsxs)(R.a,{children:[Object(M.jsx)(W.a,{children:"\u0414\u0435\u043d\u044c (\u0413\u0413\u0413\u0413-\u041c\u041c-\u0414\u0414)"}),Object(M.jsx)(W.a,{children:"\u0414\u043e\u0445\u043e\u0434/\u0440\u0430\u0441\u0445\u043e\u0434"}),Object(M.jsx)(W.a,{children:"\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435"})]})}),Object(M.jsxs)(z.a,{children:[(j>0?O.slice(i*j,i*j+j):O).map((function(e){return Object(M.jsxs)(R.a,{children:[Object(M.jsx)(W.a,{children:e.addDate}),Object(M.jsx)(W.a,{children:"income"===e.type?"\u0414\u043e\u0445\u043e\u0434":"\u0420\u0430\u0441\u0445\u043e\u0434"}),Object(M.jsx)(W.a,{children:e.value})]},e.id)})),h>0&&Object(M.jsx)(R.a,{style:{height:53*h},children:Object(M.jsx)(W.a,{colSpan:6})})]})]})}),Object(M.jsx)(K.a,{component:"div",count:O.length,rowsPerPage:j,rowsPerPageOptions:[5,10,{label:"All",value:-1}],page:i,onPageChange:function(e,t){u(t)},onRowsPerPageChange:function(e){b(parseInt(e.target.value,10)),u(0)}}),Object(M.jsxs)("span",{children:["\u0412\u0441\u0435\u0433\u043e \u0434\u043e\u0445\u043e\u0434 \u0437\u0430 \u043c\u0435\u0441\u044f\u0446: ",v]})]})},X=function(){return Object(M.jsxs)("div",{className:E.a.table,children:[Object(M.jsxs)("nav",{className:E.a.navbar,children:[Object(M.jsx)(F.b,{to:"/today",className:E.a.navLink,activeClassName:E.a.activeLink,children:"\u0421\u0435\u0433\u043e\u0434\u043d\u044f"}),Object(M.jsx)(F.b,{to:"/all",className:E.a.navLink,activeClassName:E.a.activeLink,children:"\u0412\u0441\u0435 \u0434\u043d\u0438"})]}),Object(M.jsxs)(V.a,{elevation:8,className:E.a.outputs,style:{backgroundColor:"#3f51b545"},children:[Object(M.jsx)(U.b,{exact:!0,path:"/",children:Object(M.jsx)(U.a,{to:"/today"})}),Object(M.jsx)(U.b,{path:"/today",render:function(){return Object(M.jsx)(Y,{})}}),Object(M.jsx)(U.b,{path:"/all",render:function(){return Object(M.jsx)(H,{})}})]})]})},Z=function(){return Object(M.jsxs)("div",{className:l.a.app,children:[Object(M.jsx)("h1",{className:l.a.title,children:"\u041b\u0430\u0432\u044d\u0445\u0430"}),Object(M.jsxs)("div",{className:l.a.container,children:[Object(M.jsx)(w,{}),Object(M.jsx)(X,{})]})]})},$=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,152)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;a(e),n(e),c(e),r(e),s(e)}))},ee=a(65),te=Object(ee.a)({inputsReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case n.ADD_INCOMES:var a={id:Object(y.a)(),type:"income",value:t.value,addDate:t.day};return Object(m.a)(Object(m.a)({},e),{},{transactions:[].concat(Object(p.a)(e.transactions),[a])});case n.ADD_OUTCOMES:var c={id:Object(y.a)(),type:"outcome",value:t.value,addDate:t.day};return Object(m.a)(Object(m.a)({},e),{},{transactions:[].concat(Object(p.a)(e.transactions),[c])});default:return e}}}),ae=Object(ee.b)(te);i.a.render(Object(M.jsx)(r.a.StrictMode,{children:Object(M.jsx)(x.a,{store:ae,children:Object(M.jsx)(F.a,{basename:"/finance_accounting",children:Object(M.jsx)(Z,{})})})}),document.getElementById("root")),$()},14:function(e,t,a){e.exports={table:"DataTable_table__3m1oN",navbar:"DataTable_navbar__1-cRz",navLink:"DataTable_navLink__2BwaU",activeLink:"DataTable_activeLink__W5e4v",outputCard:"DataTable_outputCard__3VbvJ",outputs:"DataTable_outputs__2Mzbg"}},54:function(e,t,a){e.exports={app:"App_app__2sPq6",title:"App_title__G5e3L",container:"App_container__1m9xk"}},55:function(e,t,a){e.exports={main:"DataInputs_main__1611N",incomes:"DataInputs_incomes__11UGi",outcomes:"DataInputs_outcomes__fq2fD"}},68:function(e,t,a){e.exports={textInput:"TextInput_textInput__LPbGB"}},92:function(e,t,a){}},[[101,1,2]]]);
//# sourceMappingURL=main.34e1b276.chunk.js.map