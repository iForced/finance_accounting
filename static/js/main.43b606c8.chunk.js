(this.webpackJsonpmoney=this.webpackJsonpmoney||[]).push([[0],{14:function(e,t,a){e.exports={table:"DataTable_table__3m1oN",navbar:"DataTable_navbar__1-cRz",navLink:"DataTable_navLink__2BwaU",activeLink:"DataTable_activeLink__W5e4v",outputCard:"DataTable_outputCard__3VbvJ",outputs:"DataTable_outputs__2Mzbg"}},45:function(e,t,a){e.exports={app:"App_app__2sPq6",title:"App_title__G5e3L",container:"App_container__1m9xk"}},46:function(e,t,a){e.exports={main:"DataInputs_main__1611N",incomes:"DataInputs_incomes__11UGi",outcomes:"DataInputs_outcomes__fq2fD"}},58:function(e,t,a){e.exports={textInput:"TextInput_textInput__LPbGB"}},80:function(e,t,a){},89:function(e,t,a){"use strict";a.r(t);var n,c=a(0),r=a.n(c),s=a(8),i=a.n(s),u=(a(80),a(45)),l=a.n(u),j=a(46),o=a.n(j),d=a(43),b=a(58),O=a.n(b),h=a(126),x=a(127),v=a(41),p=a(54),m=a(34),f=a(59),_=a.n(f),y=a(128);!function(e){e.ADD_INCOMES="ADD_INCOMES",e.ADD_OUTCOMES="ADD_OUTCOMES"}(n||(n={}));var D=_()().format("YYYY-MM-DD"),N={transactions:[]},C=function(e,t){return{type:n.ADD_INCOMES,day:t,value:e}},g=function(e,t){return{type:n.ADD_OUTCOMES,day:t,value:e}},T=a(60),k=a(61),A=a(68),L=a(67),I=new(function(e){Object(A.a)(a,e);var t=Object(L.a)(a);function a(){var e;return Object(T.a)(this,a),(e=t.call(this,"MoneyManager")).transactions=void 0,e.version(1).stores({transactions:"id, type, value, addDate"}),e}return Object(k.a)(a,[{key:"getData",value:function(){return this.transactions.where("addDate").equals(D).toArray()}}]),a}(a(51).default)),M=a(3),S=function(e){var t=Object(c.useState)(0),a=Object(d.a)(t,2),n=a[0],r=a[1],s=Object(v.b)(),i=function(){if(n){s(e.addValue(+n,D));var t={id:Object(y.a)(),type:e.type,value:n,addDate:D};I.transactions.add(t),r(0)}};return Object(M.jsxs)("div",{className:O.a.textInput,children:[Object(M.jsx)(h.a,{variant:"outlined",onChange:function(e){Number(e.currentTarget.value)?r(+e.currentTarget.value):r(0)},value:n,onKeyPress:function(e){"Enter"===e.key&&i()}}),Object(M.jsx)(x.a,{variant:"contained",color:"primary",onClick:i,children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"})]})},E=function(){return Object(M.jsxs)("main",{className:o.a.main,children:[Object(M.jsxs)("section",{className:o.a.incomeValue,children:[Object(M.jsx)("h3",{children:"\u0414\u043e\u0445\u043e\u0434\u044b"}),Object(M.jsx)(S,{addValue:C,type:"income"})]}),Object(M.jsxs)("section",{className:o.a.outcomeValue,children:[Object(M.jsx)("h3",{children:"\u0420\u0430\u0441\u0445\u043e\u0434\u044b"}),Object(M.jsx)(S,{addValue:g,type:"outcome"})]})]})},w=a(14),V=a.n(w),q=a(90),F=a(33),U=a(11),P=a(119),B=a(32),Y=function(){var e=Object(B.useLiveQuery)((function(){return I.table("transactions").where("type").equals("income").toArray()})),t=Object(B.useLiveQuery)((function(){return I.table("transactions").where("type").equals("outcome").toArray()}));if(!e||!t)return null;var a=e.reduce((function(e,t){return e+t.value}),0),n=t.reduce((function(e,t){return e+t.value}),0),c=a-n;return Object(M.jsxs)(M.Fragment,{children:[Object(M.jsxs)(P.a,{raised:!0,className:V.a.outputCard,children:[Object(M.jsx)("h3",{className:V.a.cardTitle,children:"\u0412\u0441\u0435\u0433\u043e \u0437\u0430\u0440\u0430\u0431\u043e\u0442\u0430\u043d\u043e"}),Object(M.jsx)("div",{className:V.a.cardValue,children:a})]}),Object(M.jsxs)(P.a,{raised:!0,className:V.a.outputCard,children:[Object(M.jsx)("h3",{className:V.a.cardTitle,children:"\u0412\u0441\u0435\u0433\u043e \u043f\u043e\u0442\u0440\u0430\u0447\u0435\u043d\u043e"}),Object(M.jsx)("div",{className:V.a.cardValue,children:n})]}),Object(M.jsxs)(P.a,{raised:!0,className:V.a.outputCard,children:[Object(M.jsx)("h3",{className:V.a.cardTitle,children:"\u0420\u0430\u0437\u043d\u0438\u0446\u0430"}),Object(M.jsx)("div",{className:V.a.cardValue,children:c})]})]})},G=a(120),J=a(121),Q=a(122),z=a(123),R=a(124),W=a(125),K=function(){var e=Object(c.useState)(D.slice(0,D.lastIndexOf("-"))),t=Object(d.a)(e,2),a=t[0],n=t[1],r=Object(B.useLiveQuery)((function(){return I.table("transactions").where("addDate").equals(a+D.slice(-3)).toArray()}),[a]);if(!r)return null;var s=r.filter((function(e){return"income"===e.type})).reduce((function(e,t){return e+t.value}),0)-r.filter((function(e){return"outcome"===e.type})).reduce((function(e,t){return e+t.value}),0);return Object(M.jsxs)(M.Fragment,{children:[Object(M.jsxs)("div",{children:[Object(M.jsx)("span",{children:"\u0412\u044b\u0431\u0435\u0440\u0438 \u043c\u0435\u0441\u044f\u0446 "}),Object(M.jsx)("input",{type:"month",value:a,onChange:function(e){return n(e.currentTarget.value)}})]}),Object(M.jsx)(G.a,{component:q.a,style:{backgroundColor:"#3f51b545"},children:Object(M.jsxs)(J.a,{style:{minWidth:650},children:[Object(M.jsx)(Q.a,{children:Object(M.jsxs)(z.a,{children:[Object(M.jsx)(R.a,{children:"\u0414\u0435\u043d\u044c (\u0413\u0413\u0413\u0413-\u041c\u041c-\u0414\u0414)"}),Object(M.jsx)(R.a,{children:"\u0414\u043e\u0445\u043e\u0434/\u0440\u0430\u0441\u0445\u043e\u0434"}),Object(M.jsx)(R.a,{children:"\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435"})]})}),Object(M.jsx)(W.a,{children:r.map((function(e){return Object(M.jsxs)(z.a,{children:[Object(M.jsx)(R.a,{children:e.addDate}),Object(M.jsx)(R.a,{children:"income"===e.type?"\u0414\u043e\u0445\u043e\u0434":"\u0420\u0430\u0441\u0445\u043e\u0434"}),Object(M.jsx)(R.a,{children:e.value})]},e.id)}))})]})}),Object(M.jsxs)("span",{children:["\u0412\u0441\u0435\u0433\u043e \u0434\u043e\u0445\u043e\u0434 \u0437\u0430 \u043c\u0435\u0441\u044f\u0446: ",s]})]})},H=function(){return Object(M.jsxs)("div",{className:V.a.table,children:[Object(M.jsxs)("nav",{className:V.a.navbar,children:[Object(M.jsx)(F.b,{exact:!0,to:"/",className:V.a.navLink,activeClassName:V.a.activeLink,children:"\u0421\u0435\u0433\u043e\u0434\u043d\u044f"}),Object(M.jsx)(F.b,{to:"/all",className:V.a.navLink,activeClassName:V.a.activeLink,children:"\u0412\u0441\u0435 \u0434\u043d\u0438"}),"\u0412\u044b\u0431\u0435\u0440\u0438 \u0432\u043a\u043b\u0430\u0434\u043a\u0443 (\u043f\u043e\u0442\u043e\u043c \u043f\u043e\u0444\u0438\u043a\u0448\u0443)"]}),Object(M.jsxs)(q.a,{elevation:8,className:V.a.outputs,style:{backgroundColor:"#3f51b545"},children:[Object(M.jsx)(U.a,{path:"/",exact:!0,render:function(){return Object(M.jsx)(Y,{})}}),Object(M.jsx)(U.a,{path:"/all",exact:!0,render:function(){return Object(M.jsx)(K,{})}})]})]})},X=function(){return Object(M.jsxs)("div",{className:l.a.app,children:[Object(M.jsx)("h1",{className:l.a.title,children:"\u041b\u0430\u0432\u044d\u0445\u0430"}),Object(M.jsxs)("div",{className:l.a.container,children:[Object(M.jsx)(E,{}),Object(M.jsx)(H,{})]})]})},Z=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,130)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;a(e),n(e),c(e),r(e),s(e)}))},$=a(55),ee=Object($.a)({inputsReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case n.ADD_INCOMES:var a={id:Object(y.a)(),type:"income",value:t.value,addDate:t.day};return Object(m.a)(Object(m.a)({},e),{},{transactions:[].concat(Object(p.a)(e.transactions),[a])});case n.ADD_OUTCOMES:var c={id:Object(y.a)(),type:"outcome",value:t.value,addDate:t.day};return Object(m.a)(Object(m.a)({},e),{},{transactions:[].concat(Object(p.a)(e.transactions),[c])});default:return e}}}),te=Object($.b)(ee);i.a.render(Object(M.jsx)(r.a.StrictMode,{children:Object(M.jsx)(v.a,{store:te,children:Object(M.jsx)(F.a,{children:Object(M.jsx)(X,{})})})}),document.getElementById("root")),Z()}},[[89,1,2]]]);
//# sourceMappingURL=main.43b606c8.chunk.js.map